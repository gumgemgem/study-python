# 数据转换

## 1. copy()
- 描述  
复制 DataFrame 对象

- 语法  
`DataFrame.copy(deep=True)`

参数说明：  
deep -- 布尔类型（**默认** True）  

当 deep=True 时，将使用调用对象的副本创建新对象，对副本的修改不会反映在原始数据中（深拷贝）；  
当 deep=False 时，仅复制对对象的引用，对原始数据的修改都会反映在浅拷贝中（浅拷贝）；  
**注意**：当对象中嵌套包含 Python 对象时，深拷贝将会复制数据，但是不会递归复制 Python 对象，只能引用该 Python 对象，因此更新嵌套数据对象将会反映在深拷贝中  

返回值：  
返回 DataFrame 的深拷贝或是浅拷贝  

- 实例  
```py
# 输入
import pandas as pd


# 当对象中不包含 Python 对象时

print('--- 当对象中不包含 Python 对象时 ---')
df = pd.DataFrame({'A': [0, 1, 2, 3, 4],
                   'B': [5, 6, 7, 8, 9],
                   'C': ['a', 'b', 'c', 'd', 'e']})
df1 = df.copy()              # 深拷贝
df2 = df.copy(deep=False)    # 浅拷贝
df.loc[0, 'C'] = 'A'
print(df1)
print('-------------------------------')
print(df2)

# 输出
--- 当对象中不包含 Python 对象时 ---
   A  B  C
0  0  5  a
1  1  6  b
2  2  7  c
3  3  8  d
4  4  9  e
-------------------------------
   A  B  C
0  0  5  A
1  1  6  b
2  2  7  c
3  3  8  d
4  4  9  e
```
```py
# 输入
import pandas as pd


# 当对象中包含 Python 对象时
print('--- 当对象中包含 Python 对象时 ---')
s = pd.Series([[1, 2], [3, 4]])
s1 = s.copy()
# 深拷贝对 Python 对象是引用，不进行递归复制，因此地址相同
print(id(s[0]), id(s1[0]))

s[0][0] = 100
print('-------------------------------')
# 更改 Python 对象后，s[0] 的地址不变但数据发生改变，深拷贝的地址不变但数据改变
print(id(s[0]), id(s1[0]))
print(s)
print(s1)

s[0] = [5, 6]
print('-------------------------------')
# 更改 Series 数据后，s[0] 的地址和数据均发生改变，深拷贝的地址和数据均不变
print(id(s[0]), id(s1[0]))
print(s)
print(s1)

s[0][0] = 1000
print('-------------------------------')
# 更改 Python 对象后，s[0] 的地址不变但数据发生改变，深拷贝的地址和数据均不变
print(id(s[0]), id(s1[0]))
print(s)
print(s1)

# 输出
--- 当对象中包含 Python 对象时 ---
139870373212744 139870373212744
-------------------------------
139870373212744 139870373212744
0    [100, 2]
1      [3, 4]
dtype: object
0    [100, 2]
1      [3, 4]
dtype: object
-------------------------------
139870525625992 139870373212744
0    [5, 6]
1    [3, 4]
dtype: object
0    [100, 2]
1      [3, 4]
dtype: object
-------------------------------
139870525625992 139870373212744
0    [1000, 6]
1       [3, 4]
dtype: object
0    [100, 2]
1      [3, 4]
dtype: object
```